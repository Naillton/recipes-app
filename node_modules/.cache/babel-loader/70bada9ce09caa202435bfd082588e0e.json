{"ast":null,"code":"var _jsxFileName = \"/home/nailton/github/personal_projects/recipes_app/src/components/DoneRecipesCard/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport shareIcon from '../../images/shareIcon.svg';\nimport blackHeartIcon from '../../images/blackHeartIcon.svg';\nimport whiteHeartIcon from '../../images/whiteHeartIcon.svg';\nimport './styles.css';\nimport { getFavorite, removeFavorite, saveFavorite } from '../../helpers/tokenLocalStorage';\nimport AppContext from '../../context/AppContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst copy = require('clipboard-copy');\n\nfunction DoneRecipesCard(_ref) {\n  _s();\n\n  let {\n    recipe,\n    index,\n    showHeart\n  } = _ref;\n  const {\n    id,\n    type,\n    image,\n    category,\n    name,\n    doneDate,\n    tags,\n    nationality,\n    alcoholicOrNot\n  } = recipe;\n  const [linkCopied, setLinkCopied] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const {\n    setFavoriteRecipes\n  } = useContext(AppContext);\n  const url = `http://localhost:3000/${type}s/${id}`;\n\n  const getLink = () => {\n    copy(url);\n    setLinkCopied(true);\n  };\n\n  useEffect(() => {\n    const allFavorites = getFavorite();\n    setIsFavorite(allFavorites.some(item => item.id === id));\n  }, [id]);\n\n  const handleHeart = () => {\n    setIsFavorite(!isFavorite);\n  };\n\n  const handleFavorite = () => {\n    const obj = {\n      id,\n      type,\n      nationality,\n      category,\n      alcoholicOrNot,\n      name,\n      image\n    };\n\n    if (isFavorite) {\n      removeFavorite(obj);\n      setFavoriteRecipes(getFavorite());\n      handleHeart();\n      return;\n    }\n\n    saveFavorite(obj);\n    handleHeart();\n    setFavoriteRecipes(getFavorite());\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"done-recipes-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: url,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          \"data-testid\": `${index}-horizontal-image`,\n          alt: name,\n          className: \"img\",\n          width: \"150px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"paragraph\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-share\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"title-done-recipes\",\n          \"data-testid\": `${index}-horizontal-top-text`,\n          children: `${nationality} ${category} ${alcoholicOrNot}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn\",\n          onClick: () => getLink(),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: shareIcon,\n            alt: \"shareIcon\",\n            \"data-testid\": `${index}-horizontal-share-btn`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), showHeart && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-favorite\",\n          type: \"button\",\n          onClick: handleFavorite,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: isFavorite ? blackHeartIcon : whiteHeartIcon,\n            alt: \"FavoriteIcon\",\n            \"data-testid\": `${index}-horizontal-favorite-btn`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: url,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"title-done\",\n          \"data-testid\": `${index}-horizontal-name`,\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), linkCopied && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Link copied!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 24\n      }, this), tags && tags.filter((i, r) => r < 2).map((tag, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"title-done\",\n        \"data-testid\": `${index}-${tag}-horizontal-tag`,\n        children: tag\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)), !showHeart && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"date\",\n        \"data-testid\": `${index}-horizontal-done-date`,\n        children: `Done in: ${doneDate}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DoneRecipesCard, \"bDl3wQsfHBW54G2IVfs9KMPhkXo=\");\n\n_c = DoneRecipesCard;\nDoneRecipesCard.propTypes = {\n  name: PropTypes.string,\n  type: PropTypes.string,\n  id: PropTypes.number,\n  image: PropTypes.string,\n  category: PropTypes.string,\n  doneDate: PropTypes.string,\n  tags: PropTypes.string,\n  nationality: PropTypes.string,\n  alcoholicOrNot: PropTypes.string,\n  index: PropTypes.number\n}.isRequired;\nexport default DoneRecipesCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"DoneRecipesCard\");","map":{"version":3,"names":["React","useState","useEffect","useContext","PropTypes","shareIcon","blackHeartIcon","whiteHeartIcon","getFavorite","removeFavorite","saveFavorite","AppContext","copy","require","DoneRecipesCard","recipe","index","showHeart","id","type","image","category","name","doneDate","tags","nationality","alcoholicOrNot","linkCopied","setLinkCopied","isFavorite","setIsFavorite","setFavoriteRecipes","url","getLink","allFavorites","some","item","handleHeart","handleFavorite","obj","filter","i","r","map","tag","propTypes","string","number","isRequired"],"sources":["/home/nailton/github/personal_projects/recipes_app/src/components/DoneRecipesCard/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport shareIcon from '../../images/shareIcon.svg';\nimport blackHeartIcon from '../../images/blackHeartIcon.svg';\nimport whiteHeartIcon from '../../images/whiteHeartIcon.svg';\nimport './styles.css';\n\nimport {\n  getFavorite, removeFavorite, saveFavorite,\n} from '../../helpers/tokenLocalStorage';\nimport AppContext from '../../context/AppContext';\n\nconst copy = require('clipboard-copy');\n\nfunction DoneRecipesCard({ recipe, index, showHeart }) {\n  const {\n    id, type, image, category, name,\n    doneDate, tags, nationality, alcoholicOrNot } = recipe;\n\n  const [linkCopied, setLinkCopied] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const { setFavoriteRecipes } = useContext(AppContext);\n\n  const url = `http://localhost:3000/${type}s/${id}`;\n\n  const getLink = () => {\n    copy(url);\n    setLinkCopied(true);\n  };\n\n  useEffect(() => {\n    const allFavorites = getFavorite();\n    setIsFavorite(allFavorites.some((item) => item.id === id));\n  }, [id]);\n\n  const handleHeart = () => {\n    setIsFavorite(!isFavorite);\n  };\n\n  const handleFavorite = () => {\n    const obj = {\n      id,\n      type,\n      nationality,\n      category,\n      alcoholicOrNot,\n      name,\n      image,\n    };\n    if (isFavorite) {\n      removeFavorite(obj);\n      setFavoriteRecipes(getFavorite());\n      handleHeart();\n      return;\n    }\n    saveFavorite(obj);\n    handleHeart();\n    setFavoriteRecipes(getFavorite());\n  };\n\n  return (\n    <div className=\"done-recipes-card\">\n      <div>\n        <a href={ url }>\n          <img\n            src={ image }\n            data-testid={ `${index}-horizontal-image` }\n            alt={ name }\n            className=\"img\"\n            width=\"150px\"\n          />\n        </a>\n      </div>\n      <div className=\"paragraph\">\n        <div className=\"title-share\">\n          <p\n            className=\"title-done-recipes\"\n            data-testid={ `${index}-horizontal-top-text` }\n          >\n            {`${nationality} ${category} ${alcoholicOrNot}`}\n          </p>\n          <button\n            type=\"button\"\n            className=\"btn\"\n            onClick={ () => getLink() }\n          >\n            <img\n              src={ shareIcon }\n              alt=\"shareIcon\"\n              data-testid={ `${index}-horizontal-share-btn` }\n            />\n          </button>\n          {\n            showHeart && (\n              <button className=\"btn-favorite\" type=\"button\" onClick={ handleFavorite }>\n                <img\n                  src={ isFavorite ? blackHeartIcon : whiteHeartIcon }\n                  alt=\"FavoriteIcon\"\n                  data-testid={ `${index}-horizontal-favorite-btn` }\n                />\n              </button>)\n          }\n        </div>\n        <a href={ url }>\n          <p\n            className=\"title-done\"\n            data-testid={ `${index}-horizontal-name` }\n          >\n            {name}\n          </p>\n        </a>\n        {linkCopied && <span>Link copied!</span>}\n        {tags && tags.filter((i, r) => r < 2).map((tag, i) => (\n          <span\n            className=\"title-done\"\n            data-testid={ `${index}-${tag}-horizontal-tag` }\n            key={ i }\n          >\n            {tag}\n          </span>\n        ))}\n        {!showHeart && (\n          <p\n            className=\"date\"\n            data-testid={ `${index}-horizontal-done-date` }\n          >\n            {`Done in: ${doneDate}`}\n          </p>)}\n      </div>\n    </div>\n  );\n}\n\nDoneRecipesCard.propTypes = {\n  name: PropTypes.string,\n  type: PropTypes.string,\n  id: PropTypes.number,\n  image: PropTypes.string,\n  category: PropTypes.string,\n  doneDate: PropTypes.string,\n  tags: PropTypes.string,\n  nationality: PropTypes.string,\n  alcoholicOrNot: PropTypes.string,\n  index: PropTypes.number,\n}.isRequired;\n\nexport default DoneRecipesCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}