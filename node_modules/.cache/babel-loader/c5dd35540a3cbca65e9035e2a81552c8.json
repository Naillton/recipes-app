{"ast":null,"code":"var _jsxFileName = \"/home/nailton/github/personal_projects/recipes_app/src/components/Categories/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport AppContext from '../../context/AppContext';\nimport { categoriesListDrink, categoryFilterDrink } from '../../api/drinksAPI';\nimport { categoriesList, categoryFilter } from '../../api/foodsAPI';\nimport './Categories.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cinco = 5;\n\nfunction Categories() {\n  _s();\n\n  const {\n    page,\n    setData,\n    categories,\n    setCategories,\n    category,\n    setCategory,\n    recomendationDrink,\n    recomendationFood\n  } = useContext(AppContext);\n  useEffect(() => {\n    if (page === 'Foods') {\n      const resultFoodCategories = async () => {\n        const apiResult = await categoriesList();\n        setCategories(apiResult);\n      };\n\n      resultFoodCategories();\n      return;\n    }\n\n    const resultDrinks = async () => {\n      const apiDrink = await categoriesListDrink();\n      setCategories(apiDrink.drinks);\n    };\n\n    resultDrinks(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  const handleClick = async categorie => {\n    if (categorie === category && page === 'Foods') {\n      // setData(await nameSearch());\n      setCategory('');\n      setData(recomendationFood);\n      return;\n    }\n\n    if (categorie === category && page === 'Drinks') {\n      // const drinksArray = await ingredientDrinkName();\n      setData(recomendationDrink);\n      return;\n    }\n\n    if (page === 'Foods') {\n      setCategory(categorie);\n      setData(await categoryFilter(categorie));\n      return;\n    }\n\n    setCategory(categorie);\n    setData(await categoryFilterDrink(categorie));\n  };\n\n  const clearFilter = async () => {\n    if (page === 'Foods') {\n      // setData(await nameSearch());\n      setData(recomendationFood);\n      return;\n    } // setData(await ingredientDrinkName());\n\n\n    setData(recomendationDrink);\n    setCategory('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"categories\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"All-category-filter\",\n      onClick: clearFilter,\n      children: \"All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), categories.length !== 0 && categories.filter((c, i) => i < cinco).map((_ref, index) => {\n      let {\n        strCategory\n      } = _ref;\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": `${strCategory}-category-filter`,\n        type: \"button\",\n        onClick: () => handleClick(strCategory),\n        children: strCategory\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Categories, \"hDAlDXd5unt+LLGdZmKQa/mk8TI=\");\n\n_c = Categories;\nexport default Categories;\n\nvar _c;\n\n$RefreshReg$(_c, \"Categories\");","map":{"version":3,"names":["React","useContext","useEffect","AppContext","categoriesListDrink","categoryFilterDrink","categoriesList","categoryFilter","cinco","Categories","page","setData","categories","setCategories","category","setCategory","recomendationDrink","recomendationFood","resultFoodCategories","apiResult","resultDrinks","apiDrink","drinks","handleClick","categorie","clearFilter","length","filter","c","i","map","index","strCategory"],"sources":["/home/nailton/github/personal_projects/recipes_app/src/components/Categories/index.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport AppContext from '../../context/AppContext';\n\nimport {\n  categoriesListDrink,\n  categoryFilterDrink,\n} from '../../api/drinksAPI';\nimport { categoriesList, categoryFilter } from '../../api/foodsAPI';\nimport './Categories.css';\n\nconst cinco = 5;\n\nfunction Categories() {\n  const { page,\n    setData,\n    categories,\n    setCategories,\n    category,\n    setCategory,\n    recomendationDrink,\n    recomendationFood } = useContext(AppContext);\n\n  useEffect(() => {\n    if (page === 'Foods') {\n      const resultFoodCategories = async () => {\n        const apiResult = await categoriesList();\n        setCategories(apiResult);\n      };\n      resultFoodCategories();\n      return;\n    }\n    const resultDrinks = async () => {\n      const apiDrink = await categoriesListDrink();\n      setCategories(apiDrink.drinks);\n    };\n    resultDrinks();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  const handleClick = async (categorie) => {\n    if (categorie === category && page === 'Foods') {\n      // setData(await nameSearch());\n      setCategory('');\n      setData(recomendationFood);\n      return;\n    }\n    if (categorie === category && page === 'Drinks') {\n      // const drinksArray = await ingredientDrinkName();\n      setData(recomendationDrink);\n      return;\n    }\n    if (page === 'Foods') {\n      setCategory(categorie);\n      setData(await categoryFilter(categorie));\n      return;\n    }\n    setCategory(categorie);\n    setData(await categoryFilterDrink(categorie));\n  };\n\n  const clearFilter = async () => {\n    if (page === 'Foods') {\n      // setData(await nameSearch());\n      setData(recomendationFood);\n      return;\n    }\n    // setData(await ingredientDrinkName());\n    setData(recomendationDrink);\n    setCategory('');\n  };\n\n  return (\n    <div className=\"categories\">\n      <button\n        type=\"button\"\n        data-testid=\"All-category-filter\"\n        onClick={ clearFilter }\n      >\n        All\n      </button>\n      {categories.length !== 0 && categories.filter((c, i) => i < cinco)\n        .map(({ strCategory }, index) => (\n          <button\n            key={ index }\n            data-testid={ `${strCategory}-category-filter` }\n            type=\"button\"\n            onClick={ () => handleClick(strCategory) }\n          >\n            { strCategory }\n          </button>\n        ))}\n    </div>\n  );\n}\n\nexport default Categories;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AAEA,SACEC,mBADF,EAEEC,mBAFF,QAGO,qBAHP;AAIA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,oBAA/C;AACA,OAAO,kBAAP;;AAEA,MAAMC,KAAK,GAAG,CAAd;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EACpB,MAAM;IAAEC,IAAF;IACJC,OADI;IAEJC,UAFI;IAGJC,aAHI;IAIJC,QAJI;IAKJC,WALI;IAMJC,kBANI;IAOJC;EAPI,IAOkBhB,UAAU,CAACE,UAAD,CAPlC;EASAD,SAAS,CAAC,MAAM;IACd,IAAIQ,IAAI,KAAK,OAAb,EAAsB;MACpB,MAAMQ,oBAAoB,GAAG,YAAY;QACvC,MAAMC,SAAS,GAAG,MAAMb,cAAc,EAAtC;QACAO,aAAa,CAACM,SAAD,CAAb;MACD,CAHD;;MAIAD,oBAAoB;MACpB;IACD;;IACD,MAAME,YAAY,GAAG,YAAY;MAC/B,MAAMC,QAAQ,GAAG,MAAMjB,mBAAmB,EAA1C;MACAS,aAAa,CAACQ,QAAQ,CAACC,MAAV,CAAb;IACD,CAHD;;IAIAF,YAAY,GAbE,CAchB;EACC,CAfQ,EAeN,CAACV,IAAD,CAfM,CAAT;;EAiBA,MAAMa,WAAW,GAAG,MAAOC,SAAP,IAAqB;IACvC,IAAIA,SAAS,KAAKV,QAAd,IAA0BJ,IAAI,KAAK,OAAvC,EAAgD;MAC9C;MACAK,WAAW,CAAC,EAAD,CAAX;MACAJ,OAAO,CAACM,iBAAD,CAAP;MACA;IACD;;IACD,IAAIO,SAAS,KAAKV,QAAd,IAA0BJ,IAAI,KAAK,QAAvC,EAAiD;MAC/C;MACAC,OAAO,CAACK,kBAAD,CAAP;MACA;IACD;;IACD,IAAIN,IAAI,KAAK,OAAb,EAAsB;MACpBK,WAAW,CAACS,SAAD,CAAX;MACAb,OAAO,CAAC,MAAMJ,cAAc,CAACiB,SAAD,CAArB,CAAP;MACA;IACD;;IACDT,WAAW,CAACS,SAAD,CAAX;IACAb,OAAO,CAAC,MAAMN,mBAAmB,CAACmB,SAAD,CAA1B,CAAP;EACD,CAnBD;;EAqBA,MAAMC,WAAW,GAAG,YAAY;IAC9B,IAAIf,IAAI,KAAK,OAAb,EAAsB;MACpB;MACAC,OAAO,CAACM,iBAAD,CAAP;MACA;IACD,CAL6B,CAM9B;;;IACAN,OAAO,CAACK,kBAAD,CAAP;IACAD,WAAW,CAAC,EAAD,CAAX;EACD,CATD;;EAWA,oBACE;IAAK,SAAS,EAAC,YAAf;IAAA,wBACE;MACE,IAAI,EAAC,QADP;MAEE,eAAY,qBAFd;MAGE,OAAO,EAAGU,WAHZ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAQGb,UAAU,CAACc,MAAX,KAAsB,CAAtB,IAA2Bd,UAAU,CAACe,MAAX,CAAkB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,GAAGrB,KAAhC,EACzBsB,GADyB,CACrB,OAAkBC,KAAlB;MAAA,IAAC;QAAEC;MAAF,CAAD;MAAA,oBACH;QAEE,eAAe,GAAEA,WAAY,kBAF/B;QAGE,IAAI,EAAC,QAHP;QAIE,OAAO,EAAG,MAAMT,WAAW,CAACS,WAAD,CAJ7B;QAAA,UAMIA;MANJ,GACQD,KADR;QAAA;QAAA;QAAA;MAAA,QADG;IAAA,CADqB,CAR9B;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAsBD;;GAjFQtB,U;;KAAAA,U;AAmFT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}